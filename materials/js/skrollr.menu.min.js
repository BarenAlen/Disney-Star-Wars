/*
 Plugin for skrollr.
 This plugin makes hashlinks scroll nicely to their target position.

 Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr

 Free to use under terms of MIT license
*/
(function(f,c){var k=c.skrollr,r=c.history,t=!!r.pushState,u=function(a){return a!==f&&a?"A"===a.tagName.toUpperCase()?a:u(a.parentNode):!1},A=function(a){if(1===a.which||0===a.button){var b=u(a.target);b&&n(b)&&a.preventDefault()}},n=function(a,b){if(v){if(a.hostname!==c.location.hostname||a.pathname!==f.location.pathname)return!1;var l=a.hash}else l=a.getAttribute("href");if(!/^#/.test(l)||!b&&null!==a.getAttribute("data-menu-ignore"))return!1;var d=p?p(a):a.getAttribute("data-menu-top");if(null!==
d)var g=/p$/.test(d)?d.slice(0,-1)/100*f.documentElement.clientHeight:+d*w;else{var e=f.getElementById(l.substr(1));if(!e)return!1;g=h.relativeToAbsolute(e,"top","top");d=e.getAttribute("data-menu-offset");h.isMobile()&&(e=e.getAttribute("data-mobile-menu-offset"),null!==e&&(d=e));null!==d&&(g+=+d)}t&&x&&!b&&r.pushState({top:g},"",l);d=parseInt(a.getAttribute("data-menu-duration"),10);e=m(h.getScrollTop(),g);isNaN(d)||(e=d);q&&q(l,g);y&&!b?h.animateTo(g,{duration:e,easing:z}):c.setTimeout(function(){h.setScrollTop(g)},
1);return!0},B=function(){if(c.location.hash&&f.querySelector){var a=f.querySelector('a[href="'+c.location.hash+'"]');a||(a=f.createElement("a"),a.href=c.location.hash);n(a,!0)}};k.menu={};k.menu.init=function(a,b){h=a;b=b||{};z=b.easing||"sqrt";y=!1!==b.animate;m=b.duration||500;p=b.handleLink;w=b.scale||1;v=!0===b.complexLinks;q=b.change;x=!1!==b.updateUrl;"number"===typeof m&&(m=function(a){return function(){return a}}(m));k.addEvent(f,"click",A);t&&k.addEvent(c,"popstate",function(a){var b=(a.state||
{}).top||0;c.setTimeout(function(){h.setScrollTop(b)},1)},!1);B()};k.menu.click=function(a){n(a)};var h,z,m,y,p,w,v,q,x;c.setTimeout(function(){c.location.hash&&c.scrollTo(0,0)},1)})(document,window);